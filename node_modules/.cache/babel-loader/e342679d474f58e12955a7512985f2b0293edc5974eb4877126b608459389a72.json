{"ast":null,"code":"var _jsxFileName = \"/Users/bluespacelabs/Documents/projects/bsl/GomoFE/src/components/steps/DocumentAutoCapture.jsx\",\n  _s = $RefreshSig$();\nimport { dispatchControlEvent, DocumentCustomEvent, ControlEventInstruction } from \"@innovatrics/dot-document-auto-capture/events\";\nimport { useState } from \"react\";\nimport styles from \"../styles/index.module.css\";\nimport buttonStyles from \"../styles/button.module.css\";\nimport DocumentCamera from \"./DocumentCamera\";\nimport DocumentUi from \"./DocumentUi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DocumentAutoCapture({\n  onPhotoTaken,\n  onError,\n  onBackClick\n}) {\n  _s();\n  const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n  const handlePhotoTaken = async (imageData, content) => {\n    setIsButtonDisabled(false);\n    onPhotoTaken(imageData, content);\n  };\n  const handleContinueDetection = () => {\n    dispatchControlEvent(DocumentCustomEvent.CONTROL, ControlEventInstruction.CONTINUE_DETECTION);\n    setIsButtonDisabled(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: 'white',\n        textAlign: 'center',\n        marginBottom: '20px'\n      },\n      children: \"Document auto capture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        justifyContent: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: buttonStyles.primary,\n        onClick: onBackClick,\n        children: \"Go back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: buttonStyles.primary,\n        onClick: handleContinueDetection,\n        disabled: isButtonDisabled,\n        children: \"Continue detection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        minHeight: '400px',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: buttonStyles.primary,\n        onClick: async () => {\n          try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n              video: {\n                facingMode: 'environment'\n              },\n              audio: false\n            });\n            console.log('Camera access granted:', stream);\n            alert('Camera access granted! Now we can integrate with DOT library.');\n          } catch (error) {\n            console.error('Camera access denied:', error);\n            alert('Camera access denied: ' + error.message);\n          }\n        },\n        children: \"Test Camera Access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.container,\n        style: {\n          flex: 1,\n          minHeight: '300px',\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(DocumentCamera, {\n          cameraFacing: \"environment\",\n          onPhotoTaken: handlePhotoTaken,\n          onError: onError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DocumentUi, {\n          showCameraButtons: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(DocumentAutoCapture, \"qDFraeAVfUPGO+FKnEeXu6rOpfU=\");\n_c = DocumentAutoCapture;\nexport default DocumentAutoCapture;\nvar _c;\n$RefreshReg$(_c, \"DocumentAutoCapture\");","map":{"version":3,"names":["dispatchControlEvent","DocumentCustomEvent","ControlEventInstruction","useState","styles","buttonStyles","DocumentCamera","DocumentUi","jsxDEV","_jsxDEV","DocumentAutoCapture","onPhotoTaken","onError","onBackClick","_s","isButtonDisabled","setIsButtonDisabled","handlePhotoTaken","imageData","content","handleContinueDetection","CONTROL","CONTINUE_DETECTION","style","padding","height","display","flexDirection","children","color","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","gap","justifyContent","className","primary","onClick","disabled","flex","minHeight","alignItems","stream","navigator","mediaDevices","getUserMedia","video","facingMode","audio","console","log","alert","error","message","container","marginTop","cameraFacing","showCameraButtons","_c","$RefreshReg$"],"sources":["/Users/bluespacelabs/Documents/projects/bsl/GomoFE/src/components/steps/DocumentAutoCapture.jsx"],"sourcesContent":["import {\n  dispatchControlEvent,\n  DocumentCustomEvent,\n  ControlEventInstruction,\n} from \"@innovatrics/dot-document-auto-capture/events\";\nimport { useState } from \"react\";\nimport styles from \"../styles/index.module.css\";\nimport buttonStyles from \"../styles/button.module.css\";\nimport DocumentCamera from \"./DocumentCamera\";\nimport DocumentUi from \"./DocumentUi\";\n\nfunction DocumentAutoCapture({ onPhotoTaken, onError, onBackClick }) {\n  const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n\n  const handlePhotoTaken = async (imageData, content) => {\n    setIsButtonDisabled(false);\n    onPhotoTaken(imageData, content);\n  };\n\n  const handleContinueDetection = () => {\n    dispatchControlEvent(\n      DocumentCustomEvent.CONTROL,\n      ControlEventInstruction.CONTINUE_DETECTION,\n    );\n\n    setIsButtonDisabled(true);\n  };\n\n  return (\n    <div style={{ padding: '20px', height: '100%', display: 'flex', flexDirection: 'column' }}>\n      <h2 style={{ color: 'white', textAlign: 'center', marginBottom: '20px' }}>\n        Document auto capture\n      </h2>\n      <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginBottom: '20px' }}>\n        <button className={buttonStyles.primary} onClick={onBackClick}>\n          Go back\n        </button>\n        <button\n          className={buttonStyles.primary}\n          onClick={handleContinueDetection}\n          disabled={isButtonDisabled}\n        >\n          Continue detection\n        </button>\n      </div>\n      {/* Simple camera test */}\n      <div style={{ flex: 1, minHeight: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n        <button \n          className={buttonStyles.primary}\n          onClick={async () => {\n            try {\n              const stream = await navigator.mediaDevices.getUserMedia({ \n                video: { facingMode: 'environment' },\n                audio: false \n              });\n              console.log('Camera access granted:', stream);\n              alert('Camera access granted! Now we can integrate with DOT library.');\n            } catch (error) {\n              console.error('Camera access denied:', error);\n              alert('Camera access denied: ' + error.message);\n            }\n          }}\n        >\n          Test Camera Access\n        </button>\n        <div className={styles.container} style={{ flex: 1, minHeight: '300px', marginTop: '20px' }}>\n          <DocumentCamera\n            cameraFacing=\"environment\"\n            onPhotoTaken={handlePhotoTaken}\n            onError={onError}\n          />\n          <DocumentUi showCameraButtons />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DocumentAutoCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}